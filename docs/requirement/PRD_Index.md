# Home Pocket MVP - PRD文档体系索引

**创建日期:** 2026年2月3日
**文档版本:** 1.0
**文档总数:** 5个完整PRD + 1个框架文档

---

## 📁 文档体系总览

```
PRD文档体系
│
├─ 01. 全局规划
│   └─ PRD_MVP_Global.md (25KB)
│
├─ 02. 平台总体设计
│   ├─ PRD_MVP_App.md (39KB)
│   └─ PRD_MVP_Server.md (37KB)
│
├─ 03. 功能模块详细设计
│   ├─ PRD_Module_BasicAccounting.md (31KB) ✅ 完整
│   └─ PRD_Modules_Summary.md (28KB) 📝 框架
│       ├─ 双轨账本模块框架
│       ├─ 家庭同步模块框架
│       ├─ OCR扫描模块框架
│       ├─ 趣味功能模块框架
│       └─ 安全隐私模块框架
│
└─ 04. 本索引文档
    └─ PRD_Index.md
```

---

## 📄 核心文档详解

### 1. PRD_MVP_Global.md - MVP全局产品需求文档

**文件路径:** `/Users/xinz/Development/ThinkCenter/claudedocs/PRD_MVP_Global.md`

**文档大小:** 25KB

**主要内容:**
1. **产品概述** - 产品定义、核心差异化、产品定位、目标用户
2. **MVP范围界定** - 10-12周时间线、核心功能范围、明确排除功能
3. **核心用户价值** - 价值主张、用户旅程、成功场景示例
4. **技术架构概览** - 架构原则、技术栈、数据架构、安全架构、同步协议
5. **里程碑计划** - Phase 0-6详细计划、关键决策点、Beta测试计划
6. **成功度量标准** - MVP验证指标、V1.0成功指标、Go/No-Go决策矩阵
7. **风险管理** - 关键风险识别、风险应对计划、应急预案、质量保证

**关键决策:**
- ✅ MVP时间线调整为10-12周（不是BRD的8周）
- ✅ Gemini Nano不作为核心依赖，使用规则引擎+TF Lite
- ✅ 趣味功能需要A/B测试验证
- ✅ E2EE同步使用成熟CRDT库（Yjs）而非自研
- ✅ 优先级：核心记账 > 双轨账本 > 家庭同步 > 趣味功能

**适用读者:** 产品经理、技术负责人、项目管理、投资人

---

### 2. PRD_MVP_App.md - App端总体PRD

**文件路径:** `/Users/xinz/Development/ThinkCenter/claudedocs/PRD_MVP_App.md`

**文档大小:** 39KB

**主要内容:**
1. **App端架构设计** - 整体架构、技术栈详细、文件夹结构、状态管理、依赖注入
2. **功能模块清单** - MVP必备模块、可选模块、模块依赖关系
3. **数据模型设计** - 核心实体关系图、Drift数据库定义、领域模型、Repository接口
4. **UI/UX设计原则** - 双主题系统、首页融合设计、关键交互规范、无障碍设计、动画规范
5. **性能与安全要求** - 性能指标、优化策略、安全要求、错误处理与日志
6. **开发规范** - 代码风格、Git工作流、测试策略、CI/CD Pipeline、文档要求

**技术亮点:**
- Flutter 3.x + Dart 3.x
- Riverpod 2.x状态管理
- Drift (SQLite) + SQLCipher加密数据库
- Ed25519 + ChaCha20-Poly1305加密
- ML Kit OCR + TensorFlow Lite
- 和风治愈 + 赛博可爱双主题

**适用读者:** Flutter开发工程师、UI/UX设计师、前端架构师

---

### 3. PRD_MVP_Server.md - Server端总体PRD

**文件路径:** `/Users/xinz/Development/ThinkCenter/claudedocs/PRD_MVP_Server.md`

**文档大小:** 37KB

**重要说明:** 🔴 Server端功能为V1.0计划，MVP版本不包含

**主要内容:**
1. **Server端架构设计** - 零知识架构、整体架构图、技术栈选型、服务模块设计
2. **API设计规范** - RESTful原则、核心API端点、速率限制
3. **数据同步协议** - CRDT集成方案、冲突解决策略、离线支持
4. **安全与隐私保护** - 零知识架构实现、认证与授权、DDoS防护、审计日志
5. **部署与运维要求** - 容器化部署、基础设施架构（AWS）、监控与告警、成本估算
6. **开发路线图** - V1.0开发计划（12周）、技术债务管理

**技术选型:**
- Rust 1.75+ + Actix-web 4.x
- PostgreSQL 15.x + Redis 7.x + AWS S3
- Kubernetes (EKS/GKE) + Docker
- Yjs CRDT库

**MVP阶段:** 所有同步通过设备间直接通信（蓝牙/NFC/本地网络），无需服务器

**适用读者:** 后端工程师、DevOps工程师、系统架构师

---

### 4. PRD_Module_BasicAccounting.md - 基础记账模块

**文件路径:** `/Users/xinz/Development/ThinkCenter/claudedocs/PRD_Module_BasicAccounting.md`

**文档大小:** 31KB

**模块ID:** MOD-001, MOD-002
**优先级:** P0（MVP必备）
**工时估算:** 13天

**主要内容:**
1. **模块概述** - 功能定义、用户价值、依赖关系
2. **功能详细规格:**
   - A01: 支出记录（交互流程、UI设计、数据模型、业务逻辑、验收标准）
   - A02: 收入记录（与支出的差异、收入分类预设）
   - A03-A04: 分类管理（预设20个分类、自定义分类、图标颜色选择、归档机制）
   - A05-A06: 交易列表与搜索（分组展示、滑动操作、搜索范围、高级筛选）
   - A07: 交易修正（修正流程、数据模型、审计日志查看）
3. **技术实现** - Repository实现、UI组件（金额输入）
4. **测试计划** - 单元测试、Widget测试
5. **附录** - 工时估算明细、相关文档

**核心功能:**
- ✅ 支出/收入快速记录（3秒完成）
- ✅ 20个预设分类 + 自定义分类
- ✅ 交易修正（插入修正记录，不破坏哈希链）
- ✅ 按日期分组的交易列表
- ✅ 多维度搜索（金额、分类、备注、日期）

**适用读者:** Flutter开发工程师、产品经理

---

### 5. PRD_Modules_Summary.md - 剩余模块PRD框架

**文件路径:** `/Users/xinz/Development/ThinkCenter/claudedocs/PRD_Modules_Summary.md`

**文档大小:** 28KB

**说明:** 这是一个**内容框架文档**，为剩余5个核心模块提供详细的功能规格框架，供后续完整编写参考。

**包含模块框架:**

#### 5.1 MOD-003: 双轨账本模块
- 数据模型扩展（灵魂账户配置表）
- 三层自动分类引擎（规则引擎 + 商家数据库 + TF Lite）
- UI差异化设计（和风生存 vs 赛博灵魂）
- 灵魂消费庆祝动画（粒子爆发+正向文案）
- 验收标准

#### 5.2 MOD-004: 家庭同步模块
- 配对方式（QR码面对面 + 远程短码）
- 同步协议（蓝牙/NFC/本地WiFi）
- 冲突解决（CRDT自动 + 用户干预）
- 家庭内部转账（两阶段提交）
- 验收标准

#### 5.3 MOD-005: OCR扫描模块
- OCR技术选型（Vision Framework + ML Kit）
- 识别目标（金额>95%、日期>90%、商家>85%）
- 识别流程（预处理 → OCR → 提取 → 分类 → 加密）
- 用户确认界面
- 商家自动分类（500+商家数据库）
- 验收标准

#### 5.4 MOD-009: 趣味功能模块
- C01: 大谷翔平换算器（OTA热更新单位库）
- C02: 运势占卜（小票占卜 + 今日运势）
- A/B测试框架与Go/No-Go决策标准
- 验收标准

#### 5.5 MOD-006: 安全与隐私模块
- 密钥管理（Ed25519 + Recovery Kit）
- 生物识别锁（Face ID / 指纹 / PIN）
- 哈希链审计（完整性验证 + PDF报告）
- 隐私宣言引导（三页滑动引导）
- 验收标准

**下一步工作:**
基于此框架，将每个模块扩展为完整的PRD文档（类似PRD_Module_BasicAccounting.md的详细程度）

**适用读者:** 产品经理、开发团队、技术负责人

---

## 📊 工时估算汇总

| 模块 | 工时 | 状态 |
|------|------|------|
| MOD-001/002 基础记账+分类 | 13天 | ✅ PRD完成 |
| MOD-003 双轨账本 | 8天 | 📝 框架完成 |
| MOD-004 家庭同步 | 12天 | 📝 框架完成 |
| MOD-005 OCR扫描 | 7天 | 📝 框架完成 |
| MOD-006 安全隐私 | 10天 | 📝 框架完成 |
| MOD-007 数据分析 | 5天 | 📝 待编写 |
| MOD-008 设置 | 5天 | 📝 待编写 |
| MOD-009 趣味功能（可选）| 7天 | 📝 框架完成 |
| **总计** | **60-67天** | **12周MVP计划** |

---

## 🎯 关键决策与调整

### 基于可行性研究的重要调整

| BRD原计划 | PRD调整 | 依据 |
|----------|---------|------|
| 8周MVP | **10-12周** | 研究报告建议，考虑E2EE复杂度 |
| Gemini Nano核心依赖 | **降级为Premium功能** | 设备限制、配额限制、iOS无等价物 |
| 趣味功能强制开启 | **A/B测试后决定** | 文化适应性风险 |
| 自研CRDT | **使用Yjs库** | 成熟度考虑 |
| 远程配对（MVP） | **移至V1.0** | 需要Relay服务器 |

### 优先级排序

**P0（必须有）:**
1. 基础记账
2. 分类管理
3. 双轨账本
4. 家庭配对（QR码）
5. 基础同步
6. 安全模块
7. 哈希链审计

**P1（强烈建议）:**
1. OCR扫描
2. 交易搜索
3. Widget快捷入口
4. 商家自动分类
5. 月度报表

**P2（可选，需A/B测试）:**
1. 大谷翔平换算器
2. 运势占卜
3. 灵魂庆祝动画

---

## 📚 阅读指南

### 如果你是产品经理
**推荐阅读顺序:**
1. PRD_MVP_Global.md（全局规划）
2. PRD_Modules_Summary.md（功能框架）
3. PRD_Module_BasicAccounting.md（详细示例）
4. PRD_MVP_App.md（技术可行性）

### 如果你是开发工程师
**推荐阅读顺序:**
1. PRD_MVP_App.md（技术架构）
2. PRD_Module_BasicAccounting.md（实现示例）
3. PRD_Modules_Summary.md（其他模块）
4. PRD_MVP_Server.md（V1.0准备）

### 如果你是UI/UX设计师
**推荐阅读顺序:**
1. PRD_MVP_Global.md（用户价值）
2. PRD_MVP_App.md第4节（UI/UX原则）
3. PRD_Module_BasicAccounting.md（交互流程）
4. PRD_Modules_Summary.md（双轨账本UI设计）

### 如果你是项目管理
**推荐阅读顺序:**
1. PRD_MVP_Global.md第5节（里程碑计划）
2. PRD_Modules_Summary.md（工时估算）
3. PRD_MVP_Global.md第7节（风险管理）
4. PRD_MVP_Server.md第6节（V1.0路线图）

---

## ✅ 下一步行动清单

### 立即执行（本周）
- [ ] 将PRD_Modules_Summary.md扩展为5个完整PRD文档
- [ ] 组织产品评审会议，讨论核心决策
- [ ] 确认技术栈选型（Flutter、Rust、CRDT库）
- [ ] 启动Phase 0用户验证（20-30对夫妻访谈）

### 近期计划（2周内）
- [ ] 完成UI/UX设计稿（和风/赛博双主题）
- [ ] 搭建开发环境与CI/CD
- [ ] 编写技术预研报告（CRDT、TF Lite、SQLCipher）
- [ ] 法律合规咨询（APPI隐私政策）

### 中期计划（4周内）
- [ ] 开始MVP开发（10-12周计划）
- [ ] 招募Beta测试用户（100对夫妻）
- [ ] 设计A/B测试框架
- [ ] 准备App Store/Play Store资料

---

## 📞 联系与反馈

**文档维护:** Claude Sonnet 4.5
**创建日期:** 2026年2月3日
**最后更新:** 2026年2月3日

**问题反馈:**
- 如发现文档错误或遗漏，请提Issue
- 如需补充特定模块的详细PRD，请标注模块ID
- 如有技术疑问，请联系技术负责人

---

**祝项目顺利！** 🚀
